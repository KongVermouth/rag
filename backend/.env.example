# ================================================
# RAG 后端系统环境配置模板
# 使用说明：复制此文件为 .env 并修改相应配置
# ================================================

# -------------------- 数据库配置 --------------------
# MySQL数据库连接配置
DB_HOST=localhost
DB_PORT=3306
DB_USER=rag_admin
DB_PASSWORD=rag_jin
DB_NAME=rag_system

# 数据库连接池配置
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_RECYCLE=3600

# -------------------- Redis配置 --------------------
# Redis连接配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=

# -------------------- 会话管理配置 --------------------
# Redis会话上下文TTL（秒），默认2小时
SESSION_CONTEXT_TTL=7200
# 活跃会话列表TTL（秒），默认24小时
SESSION_ACTIVE_TTL=86400
# 最大对话轮次
MAX_CONTEXT_TURNS=10
# 最大上下文Token数
MAX_CONTEXT_TOKENS=4000
# 会话归档天数（多少天未活跃后归档）
SESSION_ARCHIVE_DAYS=7
# 会话删除天数（归档后多少天删除详情）
SESSION_DELETE_DAYS=30

# -------------------- Elasticsearch配置 --------------------
# Elasticsearch连接地址
ES_HOST=http://localhost:9200
ES_INDEX_NAME=rag_document_chunks

# -------------------- Milvus配置 --------------------
# Milvus向量数据库连接配置
MILVUS_HOST=localhost
MILVUS_PORT=19530

# -------------------- 安全配置 --------------------
# JWT令牌配置（请务必修改为随机字符串）
JWT_SECRET_KEY=dad-fafa1661-fdafahlhdafaw626--+++651
JWT_ALGORITHM=HS256
JWT_EXPIRE_HOURS=24

# API Key加密密钥（必须为32字节，请务必修改）
AES_ENCRYPTION_KEY=fURAvBzkE7jz94PzDiiGbnXBHOX3OrIj

# -------------------- 文件存储配置 --------------------
# 文件存储路径（本地存储）
FILE_STORAGE_PATH=./data/files
# 单文件最大大小（字节），默认50MB
MAX_FILE_SIZE=52428800

# -------------------- Embedding模型配置 --------------------
# Qwen3-Embedding模型路径
EMBEDDING_MODEL_PATH=./models/Qwen/Qwen3-Embedding-0___6B
# Embedding批量处理大小
EMBEDDING_BATCH_SIZE=32
# 模型运行设备（cpu/cuda/auto）
EMBEDDING_DEVICE=auto

# -------------------- 文本切分配置 --------------------
# 默认切片大小（字符数）
DEFAULT_CHUNK_SIZE=500
# 默认切片重叠大小（字符数）
DEFAULT_CHUNK_OVERLAP=50

# -------------------- 应用配置 --------------------
# 应用运行配置
APP_NAME=RAG Backend API
APP_VERSION=1.0.0
# 调试模式（生产环境请设置为False）
DEBUG=True
# 日志级别（DEBUG/INFO/WARNING/ERROR）
LOG_LEVEL=INFO

# API路由前缀
API_V1_PREFIX=/api/v1

# -------------------- CORS配置 --------------------
# 跨域请求配置（多个来源用逗号分隔）
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
# 是否允许跨域请求携带凭证
CORS_ALLOW_CREDENTIALS=True

# -------------------- Celery配置 --------------------
# Celery任务队列名称
CELERY_TASK_QUEUE=rag_tasks
# Celery结果后端
CELERY_RESULT_BACKEND=redis://localhost:6379/1

# -------------------- 其他配置 --------------------
# 是否在启动时初始化数据库
INIT_DB_ON_STARTUP=True
# 是否创建默认管理员账号
CREATE_DEFAULT_ADMIN=True
# 默认管理员邮箱
DEFAULT_ADMIN_EMAIL=admin@example.com
# 默认管理员密码（首次登录后请修改）
DEFAULT_ADMIN_PASSWORD=Admin@123
